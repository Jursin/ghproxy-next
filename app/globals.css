@import "tailwindcss";

@theme {
  --color-background: #ffffff;
  --color-foreground: #171717;
}

:root {
  --background: var(--color-background);
  --foreground: var(--color-foreground);
  /* 可主题化的卡片背景色 */
  --card-bg: #ffffff;
  --card-bg-secondary: rgb(249 250 251); /* gray-50 */
  --card-border: rgb(229 231 235); /* gray-200 */
  --btn-bg: #ffffff;
  --btn-border: rgb(209 213 219); /* gray-300 */
}

.dark {
  --background: #0a0a0a;
  --foreground: #ededed;
  /* 深色模式下的卡片背景色 - GitHub 风格 */
  --card-bg: #161b22;
  --card-bg-secondary: #0d1117;
  --card-border: #30363d;
  --btn-bg: #21262d;
  --btn-border: #30363d;
}

body {
  color: var(--foreground);
  background: var(--background);
  font-family: Arial, Helvetica, sans-serif;
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}

/* ============================================================
 * Tailwind CSS 4 深色模式兼容性修复
 * 解决 dark: 变体被普通 utility 类覆盖的问题
 * ============================================================ */

/* 卡片容器深色模式覆盖 */
html.dark .bg-white {
  background-color: var(--card-bg) !important;
}

/* 次级背景色覆盖 (代码块等) */
html.dark .bg-gray-50 {
  background-color: var(--card-bg-secondary) !important;
}

/* 深色模式下的 gray 背景覆盖为 GitHub 风格 */
html.dark .dark\:bg-gray-800 {
  background-color: var(--card-bg) !important;
}

html.dark .dark\:bg-gray-900 {
  background-color: var(--card-bg-secondary) !important;
}

html.dark .dark\:bg-gray-700 {
  background-color: var(--btn-bg) !important;
}

/* 边框色覆盖 */
html.dark .border-gray-200 {
  border-color: var(--card-border) !important;
}

html.dark .border-gray-300 {
  border-color: var(--btn-border) !important;
}

/* 文字颜色覆盖 - 提高深色模式下的可读性 */
html.dark .text-gray-700 {
  color: rgb(229 231 235) !important; /* gray-200 */
}

html.dark .text-gray-600 {
  color: rgb(229 231 235) !important; /* gray-200 */
}

html.dark .text-gray-300 {
  color: rgb(243 244 246) !important; /* gray-100 */
}

html.dark .dark\:text-gray-200 {
  color: rgb(243 244 246) !important; /* gray-100 */
}

html.dark .dark\:text-gray-100 {
  color: rgb(255 255 255) !important; /* white */
}

html.dark .dark\:text-white {
  color: rgb(255 255 255) !important; /* white */
}

/* Waline 评论系统深色模式适配 - GitHub 风格 */
html.dark .waline-container {
  --waline-white: #161b22;
  --waline-light-grey: #21262d;
  --waline-dark-grey: #8b949e;
  --waline-color: #c9d1d9;
  --waline-bgcolor: #161b22;
  --waline-bgcolor-light: #0d1117;
  --waline-border-color: #30363d;
  --waline-disable-bgcolor: #21262d;
  --waline-disable-color: #484f58;
  --waline-code-bgcolor: #0d1117;
}

/* Waline 评论系统通用样式 */
.waline-container {
  font-size: 14px;
}

.waline-container .wl-panel {
  border-radius: 0.5rem;
}

.waline-container .wl-editor {
  border-radius: 0.5rem;
}

.waline-container .wl-btn {
  border-radius: 0.375rem;
}
